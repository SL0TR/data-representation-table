(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/data-table.b197ad99.svg"},25:function(e,t,n){e.exports=n(55)},30:function(e,t,n){},31:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),i=n(17),l=n(18),u=n(23),s=n(19),f=n(24),m=(n(7),n(20)),d=n.n(m);n(30);function p(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("img",{className:"navbar--logo",src:d.a,alt:"data table icon"}))}n(31);function h(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"Built with love by ",r.a.createElement("a",{href:"https://github.com/SL0TR"},"Mohaimin Islam")))}var g=n(3),v=n.n(g),b=n(4),E=n(2),w=n(21),j=n.n(w),O=(n(35),n(36),function(e){var t=e.pagesCount,n=e.pageSize,c=e.currentPage,o=e.onPageChange,i=Array.from(Array(t),function(e,t){return t+1}),l=Object(a.useState)(i.filter(function(e){return e<=10})),u=Object(E.a)(l,2),s=u[0],f=u[1];return r.a.createElement("div",{className:"pagination"},r.a.createElement("ul",null,c>n&&r.a.createElement("li",null,r.a.createElement("a",{href:!0,onClick:function(){return function(e){console.log(s[0]);var n=Array.from(Array(t).keys()).filter(function(e){return e<=s[0]}).slice(s[0]-10,s[0]);console.log(n,t),f(n),console.log(s),o(s[0]-e)}(10)}},"Prev")),s.map(function(e){return r.a.createElement("li",{key:e,className:c===e?"active":null},r.a.createElement("a",{href:!0,onClick:function(){return o(e)}},e))}),s[s.length-1]<i.length&&r.a.createElement("li",null,r.a.createElement("a",{href:!0,onClick:function(){return e=10,f(s.map(function(t){return t+e}).filter(function(e){return e<=t})),console.log(s),void o(s[0]+e);var e}},"Next"))))}),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;return window.screen.width>1100&&e.length>t?"".concat(e.slice(0,t),"..."):window.screen.width<600&&e.length>n?(console.log(e.len),"".concat(e.slice(0,n),"...")):e},y=n(22),C=n.n(y),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return C.a.get("/api/photos?page=".concat(e,"&perPage=").concat(t))},S=(n(54),function(e){var t=e.sideBar,n=e.item,a=e.onSideBarClose;return r.a.createElement("div",{className:t?"sidebar open":"sidebar"},n&&r.a.createElement("div",{className:"photo"},r.a.createElement("p",{className:"id"},n.id),r.a.createElement("p",{className:"title"},n.title),r.a.createElement("img",{src:n.url,alt:"Test"}),r.a.createElement("p",{className:"details"},n.thumbnailUrl)),r.a.createElement("button",{className:"close-btn",onClick:a},"X"))}),x=function(){var e=Object(a.useState)(null),t=Object(E.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(10),i=Object(E.a)(o,2),l=i[0],u=i[1],s=Object(a.useState)(null),f=Object(E.a)(s,2),m=f[0],d=f[1],p=Object(a.useState)(1),h=Object(E.a)(p,2),g=h[0],w=h[1],y=Object(a.useState)(10),C=Object(E.a)(y,1)[0],x=Object(a.useState)("id"),B=Object(E.a)(x,2),P=B[0],A=B[1],L=Object(a.useState)("asc"),R=Object(E.a)(L,2),I=R[0],T=R[1],U=Object(a.useState)(!1),W=Object(E.a)(U,2),D=W[0],z=W[1],J=Object(a.useState)(null),M=Object(E.a)(J,2),X=M[0],$=M[1],q=Object(a.useRef)(null);Object(a.useEffect)(function(){function e(){return(e=Object(b.a)(v.a.mark(function e(){var t,n,a,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(g,l);case 2:t=e.sent,n=t.data,a=n.photos,r=n.pagesCount,c(a),d(r),console.log({photos:a,pagesCount:r},"initial load");case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[m,l]),Object(a.useEffect)(function(){var e=j.a.orderBy(n,[P],[I]);c(e)},[P,I,g]);var F=function(e){var t="asc";P===e&&(t="asc"===I?"desc":"asc"),A(e),T(t)},G=function(){var e=Object(b.a)(v.a.mark(function e(t){var n,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,l);case 2:n=e.sent,a=n.data.photos,c(a),w(t);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),H=function(e){if(e===P)return"asc"===I?"sorted asc":"sorted desc"},K=function(){var e=Object(b.a)(v.a.mark(function e(t){var n,a,r,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(q.current.value),e.next=4,N(1,l);case 4:n=e.sent,a=n.data,r=a.photos,o=a.pagesCount,c(r),d(o),w(1);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Table Representation of API data."),r.a.createElement("div",{className:"photo-perpage"},r.a.createElement("input",{placeholder:"Enter the number of items per page. 10 is default",ref:q,type:"text"}),r.a.createElement("button",{onClick:K},"Submit")),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:H("id"),onClick:function(){return F("id")}},"ID"),r.a.createElement("th",{className:H("title"),onClick:function(){return F("title")}},"Title"),r.a.createElement("th",{className:H("url"),onClick:function(){return F("url")}},"URL")),!n&&r.a.createElement("p",null,"Loading.."),n&&n.map(function(e){return r.a.createElement("tr",{key:e.id,onClick:function(){return t=e,console.log(t),$(t),void z(!0);var t}},r.a.createElement("td",{"data-th":"ID"},e.id),r.a.createElement("td",{"data-th":"Title"},k(e.title,60,25)),r.a.createElement("td",{"data-th":"URL"},k(e.url,60,25)))}))),r.a.createElement(O,{pagesCount:m||10,pageSize:C,onPageChange:G,currentPage:g}),r.a.createElement(S,{sideBar:D,onSideBarClose:function(){z(!1)},item:X}))},B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(p,null),r.a.createElement(x,null),r.a.createElement(h,null))}}]),t}(a.Component),P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(B,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");P?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):A(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):A(e)})}}()},7:function(e,t,n){}},[[25,1,2]]]);
//# sourceMappingURL=main.e4006cee.chunk.js.map